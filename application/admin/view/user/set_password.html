{extend name="common/base" /}
{block name="main"}
<form id="blog_form" action="/admin/user/setPassword" method="post">
    <div class="form-group">
        <label for="title">原来密码</label>
        <input type="text" class="form-control" id="old" name="old"
               placeholder="请输入原来密码">
        {if condition="isset($pwdError)"}
        <label for="title">密码错误</label>
        {/if}
    </div>
    <div class="form-group">
        <label for="content">新密码</label>
        <input type="text" class="form-control" id="new" name="newpwd"
               placeholder="请输入新密码">
    </div>
    <div class="form-group">
        <label for="content">确认密码</label>
        <input type="text" class="form-control" id="rnew" name="rnewpwd"
               placeholder="重新确认新密码">
    </div>
    <button type="submit" class="btn btn-default">确认修改</button>
</form>

{/block}
{block name="appendJS"}
<!--客户端验证需要的引入文件-->
<script src="__STATIC__/validate/dist/jquery.validate.js"></script>
<script src="__STATIC__/validate/dist/additional-methods.min.js"></script>
<script src="__STATIC__/validate/dist/localization/messages_zh.js"></script>
<script>
    $(function () {
        //客户端验证
        $('#blog_form').validate({
            //定义规则
            rules:{
                old:{
                    required:true
                },
                newpwd:{
                    required:true
                },
                rnewpwd:{
                    required:true,
                    equalTo:"#new"
                }
            },
            //自定义错误提示信息
            messages:{
                old:{
                    required:'旧密码不能为空'
                },
                newpwd:{
                    required:'密码不能为空'
                },
                rnewpwd:{
                    required:"确认密码不能为空",
                    equalTo:"两次输入不一致"
                }
            }
        });
    })
</script>
{/block}
